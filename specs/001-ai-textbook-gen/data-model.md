# Data Model: Physical AI & Humanoid Robotics Textbook Generation

## Entities

### Module
- **Description**: A top-level organizational unit of the textbook.
- **Attributes**:
    - `id` (string): Unique identifier (e.g., `01`, `02`).
    - `title` (string): Display title of the module (e.g., "Introduction to Physical AI").
    - `slug` (string): URL-friendly identifier for routing.
    - `chapters` (list of Chapter IDs): Ordered list of chapters belonging to this module.
- **Relationships**: Contains multiple `Chapter` entities.

### Chapter
- **Description**: A single Markdown file containing specific learning content.
- **Attributes**:
    - `id` (string): Unique identifier (e.g., `01-intro`).
    - `module_id` (string): ID of the parent module.
    - `title` (string): Display title of the chapter.
    - `slug` (string): URL-friendly identifier for routing.
    - `file_path` (string): Absolute path to the Markdown file (e.g., `docs/01-introduction/01-intro.md`).
    - `learning_objectives` (list of strings): Key takeaways for the chapter.
    - `content` (string): Full Markdown content of the chapter.
    - `exercises` (list of strings): Hands-on exercises.
    - `quizzes` (list of strings): Short quiz questions.
    - `references` (list of strings): Links to further reading.
- **Relationships**: Belongs to one `Module`. Can be a source for `Source Citation`.

### Docusaurus Project
- **Description**: The static site generation framework hosting the textbook.
- **Attributes**:
    - `root_directory` (string): Path to the project root.
    - `docs_directory` (string): Path to the `docs/` folder (e.g., `docs/`).
    - `config_file` (string): Path to `docusaurus.config.ts`.
    - `sidebars_file` (string): Path to `sidebars.ts`.
    - `theme_config` (object): Configuration for the professional textbook theme.
- **Relationships**: Hosts `Module` and `Chapter` content.

### RAG Chatbot
- **Description**: An interactive agent embedded within the textbook UI.
- **Attributes**:
    - `api_endpoint` (string): URL for the backend API.
    - `model_config` (object): Configuration for the underlying LLM.
    - `vector_db_connection` (object): Connection details for Qdrant.
    - `chunk_source_db_connection` (object): Connection details for PostgreSQL/Neon.
- **Relationships**: Interacts with `Selected Text` and generates `Source Citation`.

### Selected Text
- **Description**: A portion of the textbook content highlighted by the user.
- **Attributes**:
    - `text_content` (string): The exact text string selected by the user.
    - `chapter_id` (string): ID of the chapter from which the text was selected.
    - `start_line` (integer): Starting line number of the selected text within the chapter.
    - `end_line` (integer): Ending line number of the selected text within the chapter.
- **Relationships**: Provides context for `RAG Chatbot` queries.

### Source Citation
- **Description**: Metadata linking an RAG chatbot answer back to its original content.
- **Attributes**:
    - `chapter_id` (string): ID of the source chapter.
    - `chapter_title` (string): Title of the source chapter.
    - `link` (string): URL link to the specific chapter in the Docusaurus site.
    - `text_excerpt` (string, optional): A short excerpt of the original content that was used.
- **Relationships**: Generated by `RAG Chatbot`, links to `Chapter`.
