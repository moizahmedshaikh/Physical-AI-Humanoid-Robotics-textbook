"use strict";(globalThis.webpackChunkbook_source=globalThis.webpackChunkbook_source||[]).push([[776],{2619:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-2-ros2-fundamentals/architecture-concepts","title":"ROS 2 Architecture and Core Concepts","description":"Learning Objectives","source":"@site/docs/module-2-ros2-fundamentals/01-architecture-concepts.md","sourceDirName":"module-2-ros2-fundamentals","slug":"/module-2-ros2-fundamentals/architecture-concepts","permalink":"/Physical-AI-Humanoid-Robotics-textbook/docs/module-2-ros2-fundamentals/architecture-concepts","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-2-ros2-fundamentals/01-architecture-concepts.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"ROS 2 Architecture and Core Concepts","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Module 2: ROS 2 Fundamentals","permalink":"/Physical-AI-Humanoid-Robotics-textbook/docs/module-2-ros2-fundamentals/"},"next":{"title":"Nodes, Topics, Services, and Actions in ROS 2","permalink":"/Physical-AI-Humanoid-Robotics-textbook/docs/module-2-ros2-fundamentals/nodes-topics-services-actions"}}');var t=n(4848),r=n(8453);const o={title:"ROS 2 Architecture and Core Concepts",sidebar_position:1},c="ROS 2 Architecture and Core Concepts",l={},a=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Comprehensive Content",id:"comprehensive-content",level:2},{value:"What is ROS 2?",id:"what-is-ros-2",level:3},{value:"Key Design Goals of ROS 2",id:"key-design-goals-of-ros-2",level:3},{value:"ROS 2 Core Concepts",id:"ros-2-core-concepts",level:3},{value:"1. Computational Graph",id:"1-computational-graph",level:4},{value:"2. Data Distribution Service (DDS)",id:"2-data-distribution-service-dds",level:4},{value:"ROS 1 vs. ROS 2: Key Differences",id:"ros-1-vs-ros-2-key-differences",level:3},{value:"<code>ros2</code> Command-Line Tools",id:"ros2-command-line-tools",level:3},{value:"Setting up a Basic ROS 2 Workspace and Package",id:"setting-up-a-basic-ros-2-workspace-and-package",level:3},{value:"1. Create a Workspace",id:"1-create-a-workspace",level:4},{value:"2. Initialize and Build the Workspace",id:"2-initialize-and-build-the-workspace",level:4},{value:"3. Source the Setup Files",id:"3-source-the-setup-files",level:4},{value:"4. Create a New Package",id:"4-create-a-new-package",level:4},{value:"Practical Exercises",id:"practical-exercises",level:2},{value:"Exercise 1: ROS 2 Environment Setup and Introspection",id:"exercise-1-ros-2-environment-setup-and-introspection",level:3},{value:"Exercise 2: Creating and Building a Custom ROS 2 Package",id:"exercise-2-creating-and-building-a-custom-ros-2-package",level:3},{value:"References / Further Reading",id:"references--further-reading",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"ros-2-architecture-and-core-concepts",children:"ROS 2 Architecture and Core Concepts"})}),"\n",(0,t.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Explain the fundamental architecture of ROS 2 and its distributed nature."}),"\n",(0,t.jsx)(s.li,{children:"Identify and describe core ROS 2 concepts such as computational graph and DDS."}),"\n",(0,t.jsx)(s.li,{children:"Differentiate between ROS 1 and ROS 2 key design choices and improvements."}),"\n",(0,t.jsxs)(s.li,{children:["Understand the purpose of the ",(0,t.jsx)(s.code,{children:"ros2"})," command-line tools for interaction and introspection."]}),"\n",(0,t.jsx)(s.li,{children:"Set up a basic ROS 2 workspace and create a simple package."}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"comprehensive-content",children:"Comprehensive Content"}),"\n",(0,t.jsx)(s.p,{children:"The Robot Operating System (ROS) has become a de facto standard for robotics software development. ROS 2 is the next generation of ROS, redesigned to meet the demands of modern robotics applications, including improved real-time capabilities, security, and support for a wider range of platforms. It provides a flexible framework that facilitates the development of complex robot behaviors by promoting modularity and reusability of software components."}),"\n",(0,t.jsx)(s.h3,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,t.jsx)(s.p,{children:"ROS 2 is a set of software libraries and tools that help you build robot applications. From drivers to state-of-the-art algorithms, and with powerful developer tools, ROS has everything you need for your next robotics project. ROS 2 builds upon the success of ROS 1, but with a fundamentally re-architected core to address limitations in areas like real-time performance, multi-robot systems, and security."}),"\n",(0,t.jsx)(s.h3,{id:"key-design-goals-of-ros-2",children:"Key Design Goals of ROS 2"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Support for Multiple RTOS (Real-Time Operating Systems)"}),": Enables deterministic behavior crucial for industrial and safety-critical applications."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Multi-Robot Systems"}),": Designed for easier deployment and management of fleets of robots."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Improved Security"}),": Provides mechanisms for authentication, encryption, and access control."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Quality of Service (QoS)"}),": Allows developers to configure communication reliability, latency, and throughput."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Distributed Nature"}),": Leverages Data Distribution Service (DDS) for peer-to-peer communication without a central master."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"ros-2-core-concepts",children:"ROS 2 Core Concepts"}),"\n",(0,t.jsx)(s.h4,{id:"1-computational-graph",children:"1. Computational Graph"}),"\n",(0,t.jsx)(s.p,{children:"The computational graph in ROS 2 refers to the network of ROS 2 elements processing data. This graph comprises:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Nodes"}),": Executables that perform computations. A robot system typically consists of many nodes, each responsible for a specific task (e.g., controlling a motor, processing camera data, planning a path)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Topics"}),": Named buses over which nodes exchange messages. Topics are a publish/subscribe communication model, where one node publishes messages to a topic, and other nodes subscribe to receive messages from that topic."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Services"}),": A request/reply communication model. A service allows a client node to send a request to a service server node and receive a response. This is typically used for synchronous, blocking operations."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Actions"}),": A long-running request/feedback/result communication model. Actions are suitable for tasks that take a long time to complete and for which the client might want periodic feedback and the ability to cancel the request. They build upon topics and services."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Parameters"}),": Configuration values for nodes. Nodes can expose parameters that can be changed at runtime or loaded from files."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"2-data-distribution-service-dds",children:"2. Data Distribution Service (DDS)"}),"\n",(0,t.jsx)(s.p,{children:"At the heart of ROS 2's communication layer is the Data Distribution Service (DDS). DDS is an international standard for real-time, scalable, and high-performance data exchange in distributed systems. Key features of DDS in ROS 2 include:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Decentralized Communication"}),": Unlike ROS 1's master-slave architecture, DDS enables direct peer-to-peer communication between nodes. This enhances robustness and scalability."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Discovery"}),": Nodes automatically discover each other without needing a central server."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Quality of Service (QoS)"}),": DDS provides a rich set of QoS policies that allow developers to fine-tune communication characteristics (e.g., reliability, history, deadline, liveliness) to match application requirements."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Interoperability"}),": Different DDS implementations can communicate with each other, allowing for greater flexibility."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"ros-1-vs-ros-2-key-differences",children:"ROS 1 vs. ROS 2: Key Differences"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Feature"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"ROS 1"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"ROS 2"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Communication"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"ROS Master (central server)"}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"DDS (decentralized, peer-to-peer)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Real-Time"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Limited, not designed for real-time"}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Improved real-time capabilities, QoS"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Multi-Robot"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Challenging, name collisions"}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Designed for multi-robot systems"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Security"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Minimal out-of-the-box"}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Integrated security (authentication, encryption)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"Supported OS"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Linux (primarily)"}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Linux, Windows, macOS, RTOS"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.strong,{children:"API Language"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"C++, Python (rospy, roscpp)"}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"C++, Python (rclpy, rclcpp)"})]})]})]}),"\n",(0,t.jsxs)(s.h3,{id:"ros2-command-line-tools",children:[(0,t.jsx)(s.code,{children:"ros2"})," Command-Line Tools"]}),"\n",(0,t.jsxs)(s.p,{children:["ROS 2 provides a powerful set of command-line tools for interacting with and introspecting a running ROS 2 system. These tools are prefixed with ",(0,t.jsx)(s.code,{children:"ros2"}),"."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 run <package_name> <executable_name>"}),": Run an executable from a ROS 2 package."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 topic list"}),": List active topics."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 topic echo <topic_name>"}),": Display messages published on a topic."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 node list"}),": List active nodes."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 service list"}),": List active services."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 param list"}),": List parameters of a node."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 interface show <msg/srv/action>"}),": Show the definition of a message, service, or action type."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"setting-up-a-basic-ros-2-workspace-and-package",children:"Setting up a Basic ROS 2 Workspace and Package"}),"\n",(0,t.jsx)(s.h4,{id:"1-create-a-workspace",children:"1. Create a Workspace"}),"\n",(0,t.jsx)(s.p,{children:"A ROS 2 workspace is a directory where you store your ROS 2 packages."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\n"})}),"\n",(0,t.jsx)(s.h4,{id:"2-initialize-and-build-the-workspace",children:"2. Initialize and Build the Workspace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'vcs import src < https://github.com/ros2/examples.git > --recursive\r\nrosdep install --from-paths src --ignore-src -r --os=ubuntu:jammy\r\ncolcon build --packages-skip-build-flags "--skip-autodetect-src" --symlink-install\n'})}),"\n",(0,t.jsx)(s.h4,{id:"3-source-the-setup-files",children:"3. Source the Setup Files"}),"\n",(0,t.jsx)(s.p,{children:"To use the ROS 2 commands and packages in your workspace, you need to source the setup files."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash  # Replace 'humble' with your ROS 2 distribution\r\nsource ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,t.jsx)(s.h4,{id:"4-create-a-new-package",children:"4. Create a New Package"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_python my_robot_controller\n"})}),"\n",(0,t.jsxs)(s.p,{children:["This creates a directory ",(0,t.jsx)(s.code,{children:"my_robot_controller"})," with basic package structure, including ",(0,t.jsx)(s.code,{children:"package.xml"})," and ",(0,t.jsx)(s.code,{children:"setup.py"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"practical-exercises",children:"Practical Exercises"}),"\n",(0,t.jsx)(s.h3,{id:"exercise-1-ros-2-environment-setup-and-introspection",children:"Exercise 1: ROS 2 Environment Setup and Introspection"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Objective"}),": To set up a basic ROS 2 environment and use command-line tools to inspect a running system."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Instructions"}),":"]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Ensure you have ROS 2 (e.g., Humble or Iron) installed and sourced on your system."}),"\n",(0,t.jsx)(s.li,{children:"Open two separate terminal windows."}),"\n",(0,t.jsxs)(s.li,{children:["In the first terminal, run the ROS 2 ",(0,t.jsx)(s.code,{children:"talker"})," node:","\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp talker\n"})}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:"In the second terminal, source your ROS 2 environment."}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"ros2 node list"})," to find the ",(0,t.jsx)(s.code,{children:"talker"})," node."]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"ros2 topic list"})," to identify the topic the ",(0,t.jsx)(s.code,{children:"talker"})," node is publishing to."]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"ros2 topic echo <identified_topic_name>"})," to view the messages being published."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["The first terminal showing ",(0,t.jsx)(s.code,{children:"[INFO] [talker]: Publishing: 'Hello World: <number>'"})," messages."]}),"\n",(0,t.jsxs)(s.li,{children:["The second terminal displaying the topic list, node list including ",(0,t.jsx)(s.code,{children:"talker"}),', and the echoed "Hello World" messages from the topic.']}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"exercise-2-creating-and-building-a-custom-ros-2-package",children:"Exercise 2: Creating and Building a Custom ROS 2 Package"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Objective"}),": To create a custom ROS 2 Python package and verify its build."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Instructions"}),":"]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Navigate to your ROS 2 workspace ",(0,t.jsx)(s.code,{children:"~/ros2_ws/src"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Create a new Python package named ",(0,t.jsx)(s.code,{children:"my_first_ros2_pkg"}),":","\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_first_ros2_pkg\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Navigate back to the root of your workspace ",(0,t.jsx)(s.code,{children:"~/ros2_ws"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Build your workspace (only your new package will be compiled if nothing else changed):","\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"colcon build\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Source your workspace setup files (if not already sourced):","\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Verify that your package can be found:","\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ros2 pkg prefix my_first_ros2_pkg\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Successful ",(0,t.jsx)(s.code,{children:"colcon build"})," output, indicating ",(0,t.jsx)(s.code,{children:"my_first_ros2_pkg"})," was built."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 pkg prefix"})," command should return the installation path of your new package within ",(0,t.jsx)(s.code,{children:"~/ros2_ws/install/"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"references--further-reading",children:"References / Further Reading"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["ROS 2 Documentation: ",(0,t.jsx)(s.a,{href:"https://docs.ros.org/en/humble/index.html",children:"https://docs.ros.org/en/humble/index.html"})]}),"\n",(0,t.jsxs)(s.li,{children:["Open Robotics: ",(0,t.jsx)(s.a,{href:"https://www.openrobotics.org/",children:"https://www.openrobotics.org/"})]}),"\n",(0,t.jsxs)(s.li,{children:["DDS Standard (OMG): ",(0,t.jsx)(s.a,{href:"https://www.omg.org/dds/",children:"https://www.omg.org/dds/"})]}),"\n",(0,t.jsxs)(s.li,{children:["Macenski, S., et al. (2020). ROS 2: The Next Generation Robot Operating System. ",(0,t.jsx)(s.em,{children:"arXiv preprint arXiv:2004.06721"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);